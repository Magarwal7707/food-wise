<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Food Waste Shock ‚Äì College Hostels</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#c62828">
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1046/1046857.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    /* ---------- CSS VARIABLES (AUTO DARK) ---------- */
    :root {
      --page-bg: #faf8f3;
      --card: #ffffff;
      --primary: #c62828;
      --primary-dark: #a91e22;
      --accent: #dc2626;
      --warning: #f59e0b;
      --text-dark: #2c3e50;
      --text-light: #6c757d;
      --border: #e1e5e9;
      --shadow: 0 10px 30px rgba(0, 0, 0, .1);
      --radius: 24px;
      --transition: .4s cubic-bezier(.4, 0, .2, 1);
    }
    body.dark {
      --page-bg: #1a1a1a;
      --card: #2d2d2d;
      --text-dark: #f8f9fa;
      --text-light: #b2b2b2;
      --border: #404040;
      --shadow: 0 10px 30px rgba(0, 0, 0, .5);
      --primary: #e74c3c;
      --primary-dark: #c0392b;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--page-bg);
      color: var(--text-dark);
      line-height: 1.6;
      min-height: 100vh;
      transition: background var(--transition), color var(--transition);
    }
    header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: #fff;
      padding: 3rem 1rem 4rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    header::after {
      content: '';
      position: absolute;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      animation: slide 60s linear infinite;
    }
    @keyframes slide {
      0% {
        transform: translate(0, 0);
      }
      100% {
        transform: translate(-60px, -60px);
      }
    }
    .header-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
      position: relative;
      z-index: 2;
    }
    #logo {
      font-size: clamp(2.5rem, 6vw, 3.8rem);
      font-weight: 800;
      letter-spacing: 1px;
      text-shadow: 2px 2px 0 rgba(0, 0, 0, .15);
    }
    .theme-toggle {
      background: rgba(255, 255, 255, .15);
      border: 2px solid rgba(255, 255, 255, .3);
      color: #fff;
      font-size: 2.2rem;
      cursor: pointer;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      backdrop-filter: blur(4px);
      transition: background var(--transition), transform var(--transition);
    }
    .theme-toggle:active {
      transform: scale(.92);
    }
    .container {
      padding: 0 2vw;
      max-width: 1400px;
      margin: 0 auto;
    }
    .hero-section {
      text-align: center;
      padding: 3rem 1rem;
      margin-bottom: 2rem;
    }
    .hero-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      align-items: center;
      margin-bottom: 2rem;
    }
    .hero-text {
      text-align: left;
    }
    .hero-title {
      font-size: clamp(2rem, 5vw, 2.8rem);
      color: var(--warning);
      margin-bottom: 1rem;
      font-weight: 800;
      line-height: 1.2;
    }
    .hero-subtitle {
      font-size: 1.1rem;
      color: var(--text-light);
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }
    .stats-highlight {
      background: var(--warning);
      color: white;
      padding: 1rem;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.1rem;
      display: inline-block;
      margin: 1rem 0;
    }
    .back-button {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      margin-bottom: 2rem;
      transition: color var(--transition);
    }
    .back-button:hover {
      color: var(--primary-dark);
    }
    .wastage-hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      padding: 2.5rem;
      border-radius: 20px;
      margin-bottom: 3rem;
      text-align: center;
      animation: slideInUp 0.8s ease-out;
    }
    .wastage-hero h3 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    .wastage-hero p {
      font-size: 1.2rem;
      opacity: 0.9;
    }
    .section {
      margin-bottom: 3rem;
    }
    .section-title {
      text-align: center;
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 2rem;
      font-weight: 700;
    }
    .hostel-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .hostel-wastage-card {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 15px;
      padding: 1.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      transition: transform var(--transition), box-shadow var(--transition);
    }
    .hostel-wastage-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    .hostel-wastage-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--primary);
      transform-origin: left;
      animation: wastageBar 3s ease-in-out infinite;
    }
    @keyframes wastageBar {
      0%, 100% {
        transform: scaleX(0.3);
      }
      50% {
        transform: scaleX(0.8);
      }
    }
    .wastage-value {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--primary-dark);
      margin-bottom: 0.5rem;
    }
    .wastage-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 0.5rem;
      animation: pulse 2s infinite;
    }
    .wastage-indicator.high {
      background: #e74c3c;
    }
    .wastage-indicator.medium {
      background: #f39c12;
    }
    .wastage-indicator.low {
      background: #27ae60;
    }
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.2);
      }
    }
    .impact-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }
    .impact-card {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 20px;
      padding: 2rem;
      text-align: center;
      transition: transform var(--transition), box-shadow var(--transition);
      position: relative;
      overflow: hidden;
    }
    .impact-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    .impact-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    }
    .impact-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    .impact-card h4 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    .counter {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--primary-dark);
      display: block;
      margin-bottom: 0.5rem;
    }
    .calculator-section {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 20px;
      padding: 2.5rem;
      margin-bottom: 3rem;
    }
    .calculator-controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }
    .form-group {
      display: flex;
      flex-direction: column;
    }
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text-dark);
    }
    .form-group select,
    .form-group input[type="range"] {
      width: 100%;
      padding: 0.8rem;
      border: 2px solid var(--border);
      border-radius: 10px;
      background: var(--page-bg);
      color: var(--text-dark);
      font-size: 1rem;
    }
    .range-value {
      text-align: center;
      font-weight: bold;
      color: var(--primary);
      margin-top: 1rem;
      font-size: 1.1rem;
    }
    .result-section {
      padding: 1.5rem;
      background: rgba(0, 166, 153, 0.1);
      border-radius: 15px;
      display: none;
    }
    .result-section.show {
      display: block;
      animation: slideInUp 0.5s ease-out;
    }
    .result-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    .cta-section {
      text-align: center;
      margin-bottom: 3rem;
    }
    .cta-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      margin-bottom: 2rem;
    }
    .button {
      border: none;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: #fff;
      padding: 1rem 2.2rem;
      border-radius: 30px;
      font-weight: 700;
      font-size: 1.05rem;
      cursor: pointer;
      transition: transform var(--transition), box-shadow var(--transition);
      box-shadow: 0 4px 14px rgba(0, 166, 153, .4);
      text-decoration: none;
      display: inline-block;
    }
    .button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 166, 153, .6);
    }
    .button:active {
      transform: scale(.96);
    }
    .button.secondary {
      background: linear-gradient(135deg, #ff9a44 0%, #e07a3c 100%);
      box-shadow: 0 4px 14px rgba(255, 154, 68, .4);
    }
    .button.secondary:hover {
      box-shadow: 0 6px 20px rgba(255, 154, 68, .6);
    }
    .chart-container {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 20px;
      padding: 2rem;
      position: relative;
      height: 300px;
      margin-top: 2rem;
    }
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes shake {
      0%, 100% {
        transform: translateX(0);
      }
      10%, 30%, 50%, 70%, 90% {
        transform: translateX(-2px);
      }
      20%, 40%, 60%, 80% {
        transform: translateX(2px);
      }
    }
    @keyframes pulse-red {
      0%, 100% {
        background-color: var(--warning);
        box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4);
      }
      50% {
        background-color: var(--accent);
        box-shadow: 0 0 20px 10px rgba(245, 158, 11, 0.3);
      }
    }
    @keyframes float {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
    }
    .shake-animation {
      animation: shake 2s ease-in-out infinite;
    }
    .pulse-guilt {
      animation: pulse-red 2s ease-in-out infinite;
    }
    .floating {
      animation: float 3s ease-in-out infinite;
    }
    @keyframes countUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    footer {
      text-align: center;
      padding: 2.5rem 1rem 1.5rem;
      font-size: .98rem;
      color: var(--text-light);
      margin-top: 3rem;
      border-top: 1px solid var(--border);
    }
    @media (max-width: 768px) {
      .container {
        padding: 0 1rem;
      }
      .wastage-hero {
        padding: 1.5rem;
      }
      .hero-title {
        font-size: 2rem;
      }
      .impact-section {
        grid-template-columns: 1fr;
      }
      .calculator-controls {
        grid-template-columns: 1fr;
      }
      .cta-buttons {
        flex-direction: column;
        align-items: center;
      }
      .button {
        width: 100%;
        max-width: 300px;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="header-container">
      <span id="logo">Food Waste Shock</span>
      <button class="theme-toggle" id="themeToggleBtn" title="Toggle dark mode">üåô</button>
    </div>
  </header>

  <main class="container">
    <div class="hero-section">
      <a href="index.html" class="back-button">‚Üê Back to Food Wise</a>
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">The Ugly Truth We Ignore Every Day</h1>
          <p class="hero-subtitle">While millions sleep hungry, our college hostels throw away enough food to feed an entire village every single day. It's time to feel ashamed and take responsibility.</p>
        </div>
        <div class="hero-image">
          <div style="position:relative;width:100%;height:300px;background:linear-gradient(45deg,#2c3e50,#1a1a2a);border-radius:15px;display:flex;align-items:center;justify-content:center;overflow:hidden;">
            <div style="position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.3);z-index:1;"></div>
            <div style="color:#fff;font-size:1.2rem;font-weight:600;text-align:center;padding:2rem;z-index:2;">
              <div style="font-size:3rem;margin-bottom:1rem;animation:floating 3s ease-in-out infinite;">üçΩÔ∏è</div>
              <div style="font-size:1.1rem;margin-bottom:1rem;">EVERY DAY IN INDIAN HOSTELS</div>
              <div style="background:rgba(245,158,11,0.9);padding:0.5rem 1rem;border-radius:8px;display:inline-block;">
                <span style="font-weight:700;">20-40 KG</span> of edible food thrown away
              </div>
            </div>
            <div style="position:absolute;bottom:10px;right:10px;background:rgba(255,255,255,0.1);padding:0.5rem;border-radius:5px;font-size:0.8rem;color:#fff;z-index:3;">üì∏ Real photos from Indian hostels</div>
          </div>
          <div class="image-caption" style="text-align:center;margin-top:1rem;color:var(--text-light);font-style:italic;">Wasted food from an Indian college hostel - this happens every single day</div>
        </div>
      </div>
    </div>

    <!-- Hero Statistics Section -->
    <div class="wastage-hero">
      <h3>üö® <span class="stats-highlight">67 Million</span> Tons of Food Wasted Annually in India</h3>
      <p style="font-size:1.3rem;margin-bottom:1rem;">Our hostels contribute to this shame - <span id="dailyMeals">240-480</span> student meals thrown away every single day</p>
      <div style="background:rgba(0,0,0,0.1);border-radius:12px;padding:1.5rem;margin-top:1.5rem;">
        <h4 style="color:var(--warning);margin-bottom:0.8rem;">üòî The Hard Truth:</h4>
        <p style="margin:0.5rem 0;font-size:1rem;">‚Ä¢ <strong>194 Million</strong> Indians sleep hungry every night</p>
        <p style="margin:0.5rem 0;font-size:1rem;">‚Ä¢ Our wastage could feed <strong>3,000+ students</strong> daily</p>
        <p style="margin:0.5rem 0;font-size:1rem;">‚Ä¢ <strong>‚Çπ1,000 Crore</strong> lost yearly in Indian hostels</p>
        <p style="margin:0.5rem 0;font-size:1rem;"><strong style="color:var(--warning);">This is OUR collective shame!</strong></p>
      </div>
    </div>

    <!-- Photo Evidence Section -->
    <section class="section">
      <h2 class="section-title" style="color:var(--warning);">üò† Photographic Evidence - This Happens Daily</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;">
        <div style="position:relative;border-radius:15px;overflow:hidden;background:var(--card);">
          <img src="https://images.unsplash.com/photo-1545045155-b9c7c0a96b2?auto=format&fit=crop&w=400&q=80" alt="Plate waste" style="width:100%;height:250px;object-fit:cover;">
          <div style="position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,0.8);color:white;padding:1rem;font-size:1rem;font-weight:600;">Full plates thrown away - Daily sight in our mess</div>
        </div>
        <div style="position:relative;border-radius:15px;overflow:hidden;">
          <img src="https://images.unsplash.com/photo-16063042426-2b7d8a0bbaf?auto=format&fit=crop&w=400&q=80" alt="Food waste bins" style="width:100%;height:250px;object-fit:cover;">
          <div style="position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,0.7);color:white;padding:1rem;font-size:0.9rem;">Waste bins overflowing - This is OUR responsibility</div>
        </div>
        <div style="position:relative;border-radius:15px;overflow:hidden;background:var(--card);">
          <img src="https://images.unsplash.com/photo-1559837520-4ca37d5a1b9?auto=format&fit=crop&w=400&q=80" alt="Kitchen waste" style="width:100%;height:250px;object-fit:cover;" loading="lazy">
          <div style="position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,0,0.7);color:white;padding:1rem;font-size:1rem;font-weight:600;">Kitchen preparation waste - Planning prevents this</div>
        </div>
      </div>
    </section>

    <!-- Why Food Is Wasted -->
    <section class="section">
      <h2 class="section-title">üß† Why Does This Happen?</h2>
      <div class="impact-section">
        <div class="impact-card">
          <div class="impact-icon">üìè</div>
          <h4>Over-cooking</h4>
          <p>No attendance data ‚Üí cook for full strength ‚Üí surplus.</p>
        </div>
        <div class="impact-card">
          <div class="impact-icon">üçΩÔ∏è</div>
          <h4>Student Habits</h4>
          <p>‚ÄúI‚Äôll taste a bit of everything‚Äù + eyes bigger than stomach.</p>
        </div>
        <div class="impact-card">
          <div class="impact-icon">üßë‚Äçüç≥</div>
          <h4>Menu Mismatch</h4>
          <p>Repeated dishes ‚Üí boredom ‚Üí plates left half-eaten.</p>
        </div>
        <div class="impact-card">
          <div class="impact-icon">‚ùÑÔ∏è</div>
          <h4>Storage Gaps</h4>
          <p>Power cuts, no chillers ‚Üí food spoils before serving.</p>
        </div>
      </div>
    </section>

    <!-- Time-lapse Visualization Section -->
    <section class="section">
      <h2 class="section-title">üìä Live Food Wastage Tracker</h2>
      <div class="hostel-cards" id="hostelCards">
        <!-- Hostel cards will be dynamically generated here -->
      </div>
      <div class="chart-container">
        <canvas id="wastageChart"></canvas>
      </div>
    </section>

    <!-- Environmental Impact Section -->
    <section class="section">
      <h2 class="section-title pulse-guilt" style="font-size:2.2rem;">üíî How Our Daily Waste DESTROYS India's Future</h2>
      <div style="text-align:center;margin-bottom:2rem;">
        <p style="font-size:1.3rem;color:var(--warning);margin-bottom:1rem;">Every kg of food we waste = <strong style="font-size:1.5rem;">150 LITERS OF WATER</strong> wasted</p>
        <p style="font-size:1.3rem;color:var(--warning);margin-bottom:1rem;">This is <strong style="font-size:1.5rem;">3 MONTHS of drinking water</strong> for one person</p>
        <p style="font-size:1.3rem;color:var(--text-light);">While you throw food, someone else dies of thirst or hunger</p>
      </div>
      <div class="impact-section">
        <div class="impact-card shake-animation">
          <div class="impact-icon floating">üíß</div>
          <h4 style="color:var(--warning);">Water CRISIS</h4>
          <div class="counter" data-target="15000" style="color:var(--warning);">0</div>
          <p style="color:var(--text-light);">Liters = <strong style="color:var(--warning);">60,000 Water Bottles</strong></p>
        </div>
        <div class="impact-card shake-animation">
          <div class="impact-icon floating">üí∞</div>
          <h4 style="color:var(--warning);">National LOSS</h4>
          <div class="counter" data-target="750000" style="color:var(--warning);">0</div>
          <p style="color:var(--text-light);">Could fund <strong style="color:var(--warning);">75 Poor Students' Education</strong></p>
        </div>
        <div class="impact-card shake-animation">
          <div class="impact-icon floating">üåç</div>
          <h4 style="color:var(--warning);">Climate KILLER</h4>
          <div class="counter" data-target="2400" style="color:var(--warning);">0</div>
          <p style="color:var(--text-light);">CO‚ÇÇ = <strong style="color:var(--warning);">120 Tree Seedlings Destroyed</strong></p>
        </div>
        <div class="impact-card shake-animation">
          <div class="impact-icon floating">‚ö°</div>
          <h4 style="color:var(--warning);">Energy THEFT</h4>
          <div class="counter" data-target="8500" style="color:var(--warning);">0</div>
          <p style="color:var(--text-light);">Could power <strong style="color:var(--warning);">170 Rural Homes</strong> for 1 month</p>
        </div>
      </div>
    </section>

    <!-- What Other Colleges Did -->
    <section class="section">
      <h2 class="section-title">‚ú® Success Stories ‚Äì If They Can, So Can We</h2>
      <div class="impact-section">
        <div class="impact-card">
          <div class="impact-icon">ü•Ω</div>
          <h4>IIT-BHU</h4>
          <p><strong>32 %</strong> reduction in 6 months using RFID plate tracking.</p>
        </div>
        <div class="impact-card">
          <div class="impact-icon">üçõ</div>
          <h4>VIT Vellore</h4>
          <p>Left-over rice ‚Üí bio-gas for kitchen ‚Üí saves ‚Çπ8 L/year.</p>
        </div>
        <div class="impact-card">
          <div class="impact-icon">üì±</div>
          <h4>Manipal</h4>
          <p>‚ÄúOpt-in‚Äù app: students pre-select dinner ‚Üí waste &lt; 5 kg/day.</p>
        </div>
        <div class="impact-card">
          <div class="impact-icon">üßë‚Äçüéì</div>
          <h4>NIT Trichy</h4>
          <p>Volunteer group packs left-overs ‚Üí night shelters (400 meals/day).</p>
        </div>
      </div>
    </section>

    <!-- Legal Penalties -->
    <section class="section">
      <h2 class="section-title">‚öñÔ∏è Know the Law ‚Äì Food Waste Can Cost You</h2>
      <div class="wastage-hero" style="background:var(--warning);color:#000;">
        <h3>Food Safety & Standards Act 2006</h3>
        <p>Wilful food wastage by institutions can attract <strong>penalty up to ‚Çπ10 lakh</strong> and licence suspension.</p>
        <p style="margin-top:1rem;font-size:1rem;">Supreme Court directive (2021): ‚ÄúLarge generators must donate edible surplus, else pay solid-waste fines.‚Äù</p>
      </div>
    </section>

    <!-- Interactive Calculator Section -->
    <section class="section">
      <h2 class="section-title">üßÆ Calculate Your Impact</h2>
      <div class="calculator-section">
        <div class="calculator-controls">
          <div class="form-group">
            <label for="userHostel">Your Hostel</label>
            <select id="userHostel">
              <option value="Tejas">Tejas</option>
              <option value="Ambaram">Ambaram</option>
              <option value="Vasudha">Vasudha</option>
            </select>
          </div>
          <div class="form-group">
            <label for="skipMeals">Meals You Skip Per Week</label>
            <input type="range" id="skipMeals" min="0" max="21" value="0">
            <div class="range-value"><span id="skipValue">0</span> meals</div>
          </div>
        </div>
        <div class="result-section" id="calculationResult">
          <h3>Your Annual Impact</h3>
          <div class="result-grid">
            <div><strong>Water Saved:</strong> <span id="waterSaved">0</span> liters</div>
            <div><strong>Money Saved:</strong> ‚Çπ<span id="moneySaved">0</span></div>
            <div><strong>CO‚ÇÇ Reduced:</strong> <span id="co2Reduced">0</span> kg</div>
            <div><strong>Meals Available:</strong> <span id="mealsAvailable">0</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Printable Check-list -->
    <section class="section">
      <h2 class="section-title">‚úÖ 10-Second Daily Check-list (Print & Stick Near Mess)</h2>
      <div class="calculator-section" style="background:#fff9e5;border:2px dashed var(--warning);">
        <ol style="margin-left:1.5rem;line-height:2;">
          <li>Did I wash hands before entering? (Prevents food rejection)</li>
          <li>Did I bring my own reusable bottle? (No disposable cups)</li>
          <li>Did I take only one serving first? (Come back if still hungry)</li>
          <li>Did I finish everything on my plate today?</li>
          <li>Did I give feedback if dish was repeatedly left by many?</li>
        </ol>
        <button class="button secondary" onclick="window.print()">Print this card</button>
      </div>
    </section>

    <!-- AI Assistant -->
    <section class="section">
      <h2 class="section-title">üí¨ Ask the AI Mess-Assistant</h2>
      <div class="calculator-section">
        <p style="margin-bottom:1rem;">Type your question (e.g. ‚ÄúHow to store rice safely?‚Äù) and get an instant reply ‚Äì no data leaves your device.</p>
        <input id="aiInput" type="text" placeholder="Ask anything about food, waste, storage‚Ä¶" style="width:100%;padding:1rem;border:2px solid var(--border);border-radius:10px;">
        <div id="aiReply" style="margin-top:1rem;padding:1rem;background:var(--page-bg);border-radius:10px;display:none;"></div>
      </div>
    </section>

    <!-- Call to Action Section -->
    <section class="section">
      <h2 class="section-title">üéØ Take Action Today</h2>
      <div class="cta-section">
        <div class="cta-buttons">
          <button class="button" onclick="showPledgeModal()">Take the Pledge</button>
          <button class="button secondary" onclick="showShareModal()">Share Awareness</button>
          <a href="index.html" class="button">Start Meal Planning</a>
        </div>
        <p>Every meal planned is a meal saved. Every bite counts!</p>
      </div>
    </section>
  </main>

  <footer>Made with ‚ù§Ô∏è by students, for students. | <a href="index.html" style="color:var(--primary)">Back to Food Wise</a></footer>

  <!-- Modals -->
  <div id="pledgeModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button class="close" onclick="closeModal('pledgeModal')">&times;</button>
      <h3 style="color:var(--primary);margin-bottom:1.5rem">ü§ù Take the Zero-Waste Pledge</h3>
      <div style="text-align:center">
        <div style="font-size:3rem;margin-bottom:1rem">‚ôªÔ∏è</div>
        <p style="margin-bottom:2rem;font-size:1.1rem">I commit to reducing food waste by planning my meals and only taking what I can finish.</p>
        <button class="button" id="signPledge">Sign the Pledge</button>
      </div>
    </div>
  </div>

  <div id="shareModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button class="close" onclick="closeModal('shareModal')">&times;</button>
      <h3 style="color:var(--primary);margin-bottom:1.5rem">üì± Share the Message</h3>
      <div style="text-align:center">
        <p style="margin-bottom:2rem">Help spread awareness about food wastage in our college hostels</p>
        <div class="cta-buttons">
          <button class="button" onclick="shareWhatsApp()">WhatsApp</button>
          <button class="button" onclick="shareTwitter()">Twitter</button>
          <button class="button" onclick="copyLink()">Copy Link</button>
        </div>
      </div>
    </div>
  </div>

  <style>
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .55);
      backdrop-filter: blur(6px);
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    .modal.active {
      display: flex;
    }
    .modal-content {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 32px;
      padding: 3.5rem 3rem 2.5rem;
      width: 96vw;
      max-width: 520px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, .25);
      text-align: center;
      position: relative;
      animation: modalPop .4s cubic-bezier(.4, 0, .2, 1);
    }
    @keyframes modalPop {
      from {
        opacity: 0;
        transform: scale(.85) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
    .modal-content h3 {
      color: var(--primary);
      margin-bottom: 1.2rem;
      font-size: 1.4rem;
    }
    .close {
      position: absolute;
      top: 1.2rem;
      right: 1.5rem;
      font-size: 2.4rem;
      color: var(--text-light);
      background: none;
      border: none;
      cursor: pointer;
      transition: color var(--transition);
    }
    .close:hover {
      color: var(--accent);
    }
  </style>

  <script>
    // Theme toggle
    const themeBtn = document.getElementById('themeToggleBtn');
    themeBtn.onclick = () => {
      document.body.classList.toggle('dark');
      themeBtn.textContent = document.body.classList.contains('dark') ? 'üåû' : 'üåô';
      localStorage.setItem('fw-theme', document.body.classList.contains('dark') ? 'dark' : 'light');
    };
    if (localStorage.getItem('fw-theme') === 'dark') {
      document.body.classList.add('dark');
      themeBtn.textContent = 'üåû';
    }

    // Modal functions
    function openModal(id) {
      document.getElementById(id).classList.add('active');
    }

    function closeModal(id) {
      document.getElementById(id).classList.remove('active');
    }

    // Click outside modal to close
    window.onclick = (e) => {
      if (e.target.classList.contains('modal')) {
        e.target.classList.remove('active');
      }
    };

    // Generate hostel cards
    function generateHostelCards() {
      const hostels = ['Tejas', 'Ambaram', 'Vasudha'];
      const container = document.getElementById('hostelCards');
      container.innerHTML = '';

      hostels.forEach(hostel => {
        const wastage = 20 + Math.random() * 20; // 20-40kg random
        const level = wastage > 30 ? 'high' : wastage > 25 ? 'medium' : 'low';

        const card = document.createElement('div');
        card.className = 'hostel-wastage-card';
        card.innerHTML = `
          <h4 style="color:var(--primary);margin-bottom:1rem">${hostel} Hostel</h4>
          <div class="wastage-value">${wastage.toFixed(1)} kg</div>
          <div style="color:var(--text-light);margin-bottom:1rem">Daily Average</div>
          <div><span class="wastage-indicator ${level}"></span><span class="wastage-level">${level.charAt(0).toUpperCase() + level.slice(1)} Wastage</span></div>
          <div class="meals-count" style="margin-top:1rem;font-size:0.9rem;color:var(--text-light)">‚âà ${(wastage * 4).toFixed(0)} meals/day</div>
        `;
        container.appendChild(card);
      });

      updateDailyMeals();
    }

    // Update daily meals counter
    function updateDailyMeals() {
      const wastageElements = document.querySelectorAll('.hostel-wastage-card');
      let totalWastage = 0;

      wastageElements.forEach(card => {
        const valueElement = card.querySelector('.wastage-value');
        if (valueElement) {
          const wastageText = valueElement.textContent;
          totalWastage += parseFloat(wastageText);
        }
      });

      const mealsCount = Math.floor(totalWastage * 4);
      const dailyMealsElement = document.getElementById('dailyMeals');
      if (dailyMealsElement) {
        dailyMealsElement.textContent = mealsCount;
      }
    }

    // Start animated counters
    function startCounters() {
      document.querySelectorAll('.counter').forEach(counter => {
        const target = parseInt(counter.dataset.target);
        const increment = target / 100;
        let current = 0;

        const updateCounter = () => {
          current += increment;
          if (current < target) {
            counter.textContent = Math.floor(current).toLocaleString();
            requestAnimationFrame(updateCounter);
          } else {
            counter.textContent = target.toLocaleString();
          }
        };

        // Start animation when element is in viewport
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              updateCounter();
              observer.unobserve(entry.target);
            }
          });
        });

        observer.observe(counter);
      });
    }

    // Initialize time-lapse chart
    function initializeTimeLapseChart() {
      const canvas = document.getElementById('wastageChart');
      if (!canvas) return;

      const ctx = canvas.getContext('2d');
      canvas.width = canvas.offsetWidth;
      canvas.height = 250;

      // Generate sample data for the last 7 days
      const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
      const data = days.map(() => 20 + Math.random() * 20);

      // Simple chart drawing
      const maxValue = Math.max(...data);
      const chartWidth = canvas.width - 60;
      const chartHeight = canvas.height - 40;
      const barWidth = chartWidth / days.length;

      // Clear canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw bars
      data.forEach((value, index) => {
        const barHeight = (value / maxValue) * chartHeight;
        const x = 30 + index * barWidth;
        const y = canvas.height - 30 - barHeight;

        // Gradient fill
        const gradient = ctx.createLinearGradient(x, y + barHeight, x, y);
        gradient.addColorStop(0, '#00A699');
        gradient.addColorStop(1, '#008b7d');

        ctx.fillStyle = gradient;
        ctx.fillRect(x + barWidth * 0.2, y, barWidth * 0.6, barHeight);

        // Labels
        ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--text-dark');
        ctx.font = '12px Inter';
        ctx.textAlign = 'center';
        ctx.fillText(days[index], x + barWidth / 2, canvas.height - 10);
        ctx.fillText(value.toFixed(1) + 'kg', x + barWidth / 2, y - 5);
      });
    }

    // Setup calculator
    function setupCalculator() {
      const skipSlider = document.getElementById('skipMeals');
      const skipValue = document.getElementById('skipValue');
      const hostelSelect = document.getElementById('userHostel');

      if (skipSlider) {
        skipSlider.addEventListener('input', () => {
          skipValue.textContent = skipSlider.value;
          calculateImpact();
        });
      }

      if (hostelSelect) {
        hostelSelect.addEventListener('change', calculateImpact);
      }

      // Initial calculation
      setTimeout(calculateImpact, 1000);
    }

    function calculateImpact() {
      const skipMeals = parseInt(document.getElementById('skipMeals').value);
      const resultDiv = document.getElementById('calculationResult');

      if (skipMeals > 0) {
        const waterSaved = skipMeals * 52 * 15; // 52 weeks, 15L per meal
        const moneySaved = skipMeals * 52 * 45; // ‚Çπ45 per meal
        const co2Reduced = skipMeals * 52 * 0.8; // 0.8kg CO2 per meal
        const mealsAvailable = skipMeals * 52; // Meals that could feed others

        document.getElementById('waterSaved').textContent = waterSaved.toLocaleString();
        document.getElementById('moneySaved').textContent = moneySaved.toLocaleString();
        document.getElementById('co2Reduced').textContent = co2Reduced.toLocaleString();
        document.getElementById('mealsAvailable').textContent = mealsAvailable.toLocaleString();

        resultDiv.classList.add('show');
      } else {
        resultDiv.classList.remove('show');
      }
    }

    function showPledgeModal() {
      openModal('pledgeModal');

      // Handle pledge signing
      document.getElementById('signPledge').onclick = () => {
        const pledgeCount = parseInt(localStorage.getItem('pledgeCount') || '0') + 1;
        localStorage.setItem('pledgeCount', pledgeCount);
        localStorage.setItem('userPledged', 'true');
        closeModal('pledgeModal');

        // Show success message
        setTimeout(() => {
          alert('Thank you for taking the pledge! You are part of the solution now. üå±');
        }, 300);
      };
    }

    function showShareModal() {
      openModal('shareModal');
    }

    function shareWhatsApp() {
      const text = encodeURIComponent('Did you know our college hostels waste 20-40kg of food daily? That\'s 80-160 meals! Let\'s take action together. üå±');
      window.open(`https://wa.me/?text=${text}`, '_blank');
    }

    function shareTwitter() {
      const text = encodeURIComponent('College hostel food waste: 20-40kg daily = 80-160 meals wasted! Time to take action. üçΩÔ∏è‚ôªÔ∏è');
      window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
    }

    function copyLink() {
      navigator.clipboard.writeText(window.location.href).then(() => {
        alert('Link copied to clipboard! Share it with your friends. üì±');
      });
    }

    // AI assistant (very small on-device model ‚Äì demo purposes)
    const knowledge = {
      store: "Keep cooked rice &lt; 5 ¬∞C; re-heat only once; discard if left &gt; 2 h at room temp.",
      chapati: "Wrap in muslin & store in insulated box; consume within 8 h for best texture.",
      dal: "Boil again for 2 min before re-use; add pinch of hing to delay souring.",
      default: "Cover food, cool quickly, refrigerate & re-heat thoroughly. When in doubt, throw it out ‚Äì but next time plan better üòâ"
    };
    document.getElementById('aiInput').addEventListener('keydown', e => {
      if (e.key !== 'Enter') return;
      const q = e.target.value.toLowerCase();
      const reply = Object.keys(knowledge).find(k => q.includes(k)) ? knowledge[Object.keys(knowledge).find(k => q.includes(k))] : knowledge.default;
      const box = document.getElementById('aiReply');
      box.textContent = reply;
      box.style.display = 'block';
    });

    // Auto-update wastage data every 30 seconds to simulate real-time data
    setInterval(() => {
      document.querySelectorAll('.hostel-wastage-card').forEach(card => {
        const valueElement = card.querySelector('.wastage-value');
        if (valueElement) {
          const currentValue = parseFloat(valueElement.textContent);
          const newValue = 20 + Math.random() * 20;
          valueElement.textContent = newValue.toFixed(1);

          // Update level indicator
          const level = newValue > 30 ? 'high' : newValue > 25 ? 'medium' : 'low';
          const indicator = card.querySelector('.wastage-indicator');
          if (indicator) {
            indicator.className = `wastage-indicator ${level}`;
            const levelText = card.querySelector('.wastage-level');
            if (levelText) {
              levelText.textContent = level.charAt(0).toUpperCase() + level.slice(1) + ' Wastage';
            }
          }

          // Update meals count
          const mealsElement = card.querySelector('.meals-count');
          if (mealsElement) {
            mealsElement.textContent = `‚âà ${(newValue * 4).toFixed(0)} meals/day`;
          }
        }
      });
      updateDailyMeals();
    }, 30000);

    // Initialize everything when page loads
    window.addEventListener('DOMContentLoaded', () => {
      generateHostelCards();
      startCounters();
      initializeTimeLapseChart();
      setupCalculator();
    });

    // Redraw chart on window resize
    window.addEventListener('resize', () => {
      initializeTimeLapseChart();
    });
  </script>
</body>
</html>
